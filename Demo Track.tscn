[gd_scene load_steps=11 format=2]

[ext_resource path="res://Camera.gd" type="Script" id=1]
[ext_resource path="res://Car.gd" type="Script" id=2]

[sub_resource type="SpatialMaterial" id=1]
albedo_color = Color( 0.0431373, 0.768627, 0, 1 )
metallic = 1.0
uv1_scale = Vector3( 55, 55, 1 )

[sub_resource type="PlaneMesh" id=2]
material = SubResource( 1 )
size = Vector2( 1000, 1000 )

[sub_resource type="ConvexPolygonShape" id=3]
points = PoolVector3Array( 500, 0, 500, -500, 0, 500, 500, 0, -500, -500, 0, -500 )

[sub_resource type="Curve3D" id=4]
_data = {
"points": PoolVector3Array( 0, 0, 0, 0, 0, 0, 0.0458727, 0, 5.00036, 1.38595, 0, -5.40973, -1.38595, 0, 5.40973, -2.92696, 0, 26.7756, 4.41615, 0, -5.23954, -4.41615, 0, 5.23954, -19.4756, 0, 55.67, 5.11638, 0, -2.00072, -5.11638, 0, 2.00072, -38.651, 0, 69.3292, 9.46289, 0, 3.60492, -9.46289, 0, -3.60492, -86.4817, 0, 69.5815, 3.2682, 0, 6.99522, -3.2682, 0, -6.99522, -104.845, 0, 45.6883, 1.60216, 0, 4.3797, -1.60216, 0, -4.3797, -124.809, 0, 10.227, -0.393677, 0, 16.7433, 0.393677, 0, -16.7433, -132.952, 0, -30.7506, 0, 0, 0, 0, 0, 0, -115.878, 0, -60.1703, -5.95848, 0, 3.11747, 5.95848, 0, -3.11747, -89.0848, 0, -77.507, -7.21057, 0, 3.14577, 7.21057, 0, -3.14577, -54.938, 0, -93.5321, -6.13807, 0, 0.321625, 6.13807, 0, -0.321625, -22.8904, 0, -102.199, -6.36373, 0, -0.692802, 6.36373, 0, 0.692802, 30.9583, 0, -102.987, -14.1609, 0, -5.83204, 14.1609, 0, 5.83204, 104.77, 0, -95.369, -2.84078, 0, -7.54234, 2.84078, 0, 7.54234, 129.725, 0, -70.6774, 0.577271, 0, -5.77762, -0.577271, 0, 5.77762, 131.038, 0, -16.566, 4.09979, 0, -5.48991, -4.09979, 0, 5.48991, 120.531, 0, 19.4206, 13.5805, 0, -0.223301, -13.5805, 0, 0.223301, 91.8993, 0, 33.0798, 9.46288, 0, 12.3919, -9.46288, 0, -12.3919, 64.2486, 0, 19.7887, 0.9328, 0, 3.78867, -0.9328, 0, -3.78867, 47.7696, 0, -29.9625, 4.45644, 0, 4.85062, -4.45644, 0, -4.85062, 38.8386, 0, -69.1013, 12.0632, 0, -0.862228, -12.0632, 0, 0.862228, 15.4604, 0, -76.4563, 0.599008, 0, -3.14288, -0.599008, 0, 3.14288, -0.562871, 0, -62.0091, 0, 0, 0, 0, 0, 0, -0.825541, 0, -27.8611, 0, 0, 0, 0, 0, 0, 0.0458727, 0, 5.00036 ),
"tilts": PoolRealArray( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 )
}

[sub_resource type="CylinderMesh" id=5]
top_radius = 0.5
bottom_radius = 0.5
height = 0.3

[sub_resource type="BoxShape" id=6]
extents = Vector3( 2.07, 0.29, 4 )

[sub_resource type="SpatialMaterial" id=7]
albedo_color = Color( 0.439216, 0.439216, 0.439216, 1 )

[sub_resource type="CubeMesh" id=8]
material = SubResource( 7 )
size = Vector3( 3.4, 0.5, 8 )

[node name="World" type="Spatial"]

[node name="Ground" type="MeshInstance" parent="."]
editor/display_folded = true
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.01, 0 )
visible = false
mesh = SubResource( 2 )
material/0 = null

[node name="StaticBody" type="StaticBody" parent="Ground"]

[node name="CollisionShape" type="CollisionShape" parent="Ground/StaticBody"]
shape = SubResource( 3 )

[node name="Track" type="Spatial" parent="."]
visible = false

[node name="Path" type="Path" parent="Track"]
curve = SubResource( 4 )

[node name="CSGPolygon" type="CSGPolygon" parent="Track"]
use_collision = true
invert_faces = true
polygon = PoolVector2Array( 10, 0, -10, 0, -10, -0.5, 10, -0.5 )
mode = 2
path_node = NodePath("../Path")
path_interval = 2.199
path_rotation = 2
path_local = false
path_continuous_u = false
path_joined = true
smooth_faces = true

[node name="Camera2" type="Camera" parent="."]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 150, -20 )
current = true
far = 200.0
script = ExtResource( 1 )
follow_this_path = NodePath("../Spatial/Car")
target_distance = 10.0

[node name="Spatial" type="Spatial" parent="."]

[node name="Car" type="VehicleBody" parent="Spatial"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.269461, 0 )
mass = 58.1633
angular_damp = 0.0
script = ExtResource( 2 )
MAX_STEER_ANGLE = 0.4

[node name="front_left" type="VehicleWheel" parent="Spatial/Car"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0.817685, 3 )
use_as_steering = true
wheel_roll_influence = 0.5
wheel_radius = 0.51
wheel_rest_length = 0.07
wheel_friction_slip = 10.0
suspension_travel = 0.05
suspension_stiffness = 150.0
suspension_max_force = 2000.0
damping_compression = 0.8
damping_relaxation = 0.8

[node name="MeshInstance" type="MeshInstance" parent="Spatial/Car/front_left"]
transform = Transform( -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 0, 0, 0 )
mesh = SubResource( 5 )
material/0 = null

[node name="front_right" type="VehicleWheel" parent="Spatial/Car"]
editor/display_folded = true
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 0.817685, 3 )
use_as_steering = true
wheel_roll_influence = 0.5
wheel_radius = 0.51
wheel_rest_length = 0.07
wheel_friction_slip = 10.0
suspension_travel = 0.05
suspension_stiffness = 150.0
suspension_max_force = 2000.0
damping_compression = 0.8
damping_relaxation = 0.8

[node name="MeshInstance2" type="MeshInstance" parent="Spatial/Car/front_right"]
transform = Transform( -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 0, 0, 0 )
mesh = SubResource( 5 )
material/0 = null

[node name="rear_left" type="VehicleWheel" parent="Spatial/Car"]
editor/display_folded = true
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0.817685, -3 )
use_as_traction = true
wheel_roll_influence = 0.5
wheel_radius = 0.51
wheel_rest_length = 0.07
wheel_friction_slip = 9.0
suspension_travel = 0.05
suspension_stiffness = 130.0
suspension_max_force = 2000.0
damping_compression = 0.6
damping_relaxation = 0.6

[node name="MeshInstance3" type="MeshInstance" parent="Spatial/Car/rear_left"]
transform = Transform( -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 0, 0, 0 )
mesh = SubResource( 5 )
material/0 = null

[node name="rear_right" type="VehicleWheel" parent="Spatial/Car"]
editor/display_folded = true
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 0.817685, -3 )
use_as_traction = true
wheel_roll_influence = 0.5
wheel_radius = 0.51
wheel_rest_length = 0.07
wheel_friction_slip = 9.0
suspension_travel = 0.05
suspension_stiffness = 130.0
suspension_max_force = 2000.0
damping_compression = 0.6
damping_relaxation = 0.6

[node name="MeshInstance4" type="MeshInstance" parent="Spatial/Car/rear_right"]
transform = Transform( -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 0, 0, 0 )
mesh = SubResource( 5 )
material/0 = null

[node name="CollisionShape" type="CollisionShape" parent="Spatial/Car"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.302, 0 )
shape = SubResource( 6 )

[node name="Camera" type="Camera" parent="Spatial/Car"]
transform = Transform( -1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 2.528, -7.377 )

[node name="MeshInstance" type="MeshInstance" parent="Spatial/Car"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.24396, 0 )
mesh = SubResource( 8 )
material/0 = null

